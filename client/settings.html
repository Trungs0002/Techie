<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cài đặt - Techie</title>
    <link rel="stylesheet" href="css/settings.css" />
  </head>
  <body>
    <header class="settings-header">
      <div class="header-content">
        <button class="back-btn" onclick="window.location.href='dashboard.html'">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
          Quay lại
        </button>
        <h1>Cài đặt hệ thống</h1>
      </div>
    </header>

    <main class="settings-container">
      <div id="message-area" class="message hidden"></div>

      <!-- Profile Section -->
      <section class="settings-section">
        <h2 class="section-title">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          Thông tin cá nhân
        </h2>
        <div class="settings-card">
          <div class="form-group">
            <label for="fullName">Họ và tên</label>
            <input type="text" id="fullName" name="fullName" placeholder="Nhập họ và tên" class="form-input" />
          </div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="Nhập email" class="form-input" />
          </div>
          <div class="form-actions">
            <button class="primary-btn" onclick="updateProfile()">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>
              Lưu thông tin
            </button>
          </div>
        </div>
      </section>

      <!-- Settings Section -->
      <section class="settings-section">
        <h2 class="section-title">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
          Cấu hình ứng dụng
        </h2>
        <div class="settings-card">
          <!-- Background Music -->
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
              </div>
              <div>
                <h3 class="setting-label">Nhạc nền</h3>
                <p class="setting-description">Phát nhạc nền nhẹ nhàng khi sử dụng ứng dụng</p>
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="backgroundMusic" onchange="updateSetting('backgroundMusic', this.checked)" />
              <span class="toggle-slider"></span>
            </label>
          </div>

          <!-- Sound Effects -->
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/></svg>
              </div>
              <div>
                <h3 class="setting-label">Hiệu ứng âm thanh</h3>
                <p class="setting-description">Âm thanh khi trả lời đúng/sai và tương tác</p>
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="soundEffects" onchange="updateSetting('soundEffects', this.checked)" />
              <span class="toggle-slider"></span>
            </label>
          </div>

          <!-- Timer -->
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              </div>
              <div>
                <h3 class="setting-label">Đếm ngược thời gian</h3>
                <p class="setting-description">Hiển thị đồng hồ đếm ngược cho mỗi câu hỏi</p>
              </div>
            </div>
            <label class="toggle-switch">
              <input type="checkbox" id="timer" onchange="updateSetting('timer', this.checked)" />
              <span class="toggle-slider"></span>
            </label>
          </div>

          <!-- Questions Per Exam -->
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
              </div>
              <div>
                <h3 class="setting-label">Số câu hỏi mỗi bài thi</h3>
                <p class="setting-description">Số lượng câu hỏi (1-100)</p>
              </div>
            </div>
            <div class="input-wrapper">
              <input type="number" id="questionsPerExam" min="1" max="100" value="5" class="number-input" onchange="updateSetting('questionsPerExam', this.value)" />
            </div>
          </div>

          <!-- Exam Timer -->
          <div class="setting-item">
            <div class="setting-info">
              <div class="setting-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
              </div>
              <div>
                <h3 class="setting-label">Thời gian làm bài (phút)</h3>
                <p class="setting-description">Tổng thời gian cho một bài thi (1-300 phút)</p>
              </div>
            </div>
            <div class="input-wrapper">
              <input type="number" id="examTimer" min="1" max="300" value="60" class="number-input" onchange="updateSetting('examTimer', this.value)" />
            </div>
          </div>
        </div>
      </section>

      <!-- Avatar Section -->
      <section class="settings-section">
        <h2 class="section-title">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
          Chọn Avatar
        </h2>
        <div class="settings-card">
          <div class="avatar-preview">
            <img id="current-avatar" src="assets/avatars/avt1.png" alt="Current Avatar" class="avatar-large" />
            <p class="avatar-preview-text">Avatar hiện tại</p>
          </div>
          <div class="avatar-grid" id="avatar-grid">
            <!-- Avatars will be loaded dynamically -->
          </div>
        </div>
      </section>
    </main>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay" style="display: none">
      <div class="spinner"></div>
    </div>

    <!-- Scripts -->
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/settings.js"></script>
  </body>
</html>